/**
 * Created by User on 9/5/2016.
 */
(function(win, doc) {
    var video = document.getElementById("video");
    var subtitles = document.getElementById("subtitles");
    var syncData = [
        {"end": "0.515","start": "0.240","text": "Now" },
        {"end": "0.790","start": "0.515","text": "that" },
        {"end": "1.065","start": "0.790","text": "we've" },
        {"end": "1.340","start": "1.065","text": "looked" },
        {"end": "1.615","start": "1.340","text": "at" },
        {"end": "1.890","start": "1.615","text": "the" },
        {"end": "2.165","start": "1.890","text": "architecture" },
        {"end": "2.440","start": "2.165","text": "of" },
        {"end": "2.715","start": "2.440","text": "the" },
        {"end": "2.990","start": "2.715","text": "internet," },
        {"end": "3.265","start": "2.990","text": "lets" },
        {"end": "3.540","start": "3.265","text": "see" },
        {"end": "3.815","start": "3.540","text": "how" },
        {"end": "4.090","start": "3.815","text": "you" },
        {"end": "4.130","start": "4.090","text": "might" },
        {"end": "4.405","start": "4.130","text": "connect" },
        {"end": "4.680","start": "4.405","text": "your" },
        {"end": "4.955","start": "4.680","text": "personal" },
        {"end": "5.230","start": "4.955","text": "devices" },
        {"end": "5.505","start": "5.230","text": "to" },
        {"end": "5.780","start": "5.505","text": "the" },
        {"end": "6.055","start": "5.780","text": "internet" },
        {"end": "6.330","start": "6.055","text": "inside" },
        {"end": "6.605","start": "6.330","text": "your" },
        {"end": "7.535","start": "6.605","text": "house" },
        {"end": "7.810","start": "7.535","text": "Well" },
        {"end": "8.360","start": "8.085","text": "there" },
        {"end": "8.635","start": "8.360","text": "are" },
        {"end": "8.910","start": "8.635","text": "many" },
        {"end": "9.185","start": "8.910","text": "ways" },
        {"end": "9.460","start": "9.185","text": "to" },
        {"end": "9.735","start": "9.460","text": "connect" },
        {"end": "10.010","start": "9.735","text": "to" },
        {"end": "10.285","start": "10.010","text": "the" },
        {"end": "10.560","start": "10.285","text": "internet," },
        {"end": "11.270","start": "10.560","text": "and" },
        {"end": "11.545","start": "11.270","text": "most" },
        {"end": "11.820","start": "11.545","text": "often" },
        {"end": "12.095","start": "11.820","text": "people" },
        {"end": "12.370","start": "12.095","text": "connect" },
        {"end": "13.960","start": "12.370","text": "wirelessly." },
        {"end": "14.235","start": "13.960","text": "Let's" },
        {"end": "14.510","start": "14.235","text": "look" },
        {"end": "14.785","start": "14.510","text": "at" },
        {"end": "15.060","start": "14.785","text": "an" },
        {"end": "15.335","start": "15.060","text": "example" },
        {"end": "15.610","start": "15.335","text": "of" },
        {"end": "15.885","start": "15.610","text": "how" },
        {"end": "16.160","start": "15.885","text": "you" },
        {"end": "16.435","start": "16.160","text": "can" },
        {"end": "16.985","start": "16.710","text": "connect" },
        {"end": "17.260","start": "16.985","text": "to" },
        {"end": "17.535","start": "17.260","text": "the" },
        {"end": "17.940","start": "17.535","text": "internet" },
        {"end": "18.215","start": "17.940","text": "If" },
        {"end": "18.490","start": "18.215","text": "you" },
        {"end": "18.765","start": "18.490","text": "live" },
        {"end": "19.040","start": "18.765","text": "in" },
        {"end": "19.315","start": "19.040","text": "a" },
        {"end": "19.590","start": "19.315","text": "city" },
        {"end": "19.865","start": "19.590","text": "or" },
        {"end": "20.140","start": "19.865","text": "a" },
        {"end": "20.415","start": "20.140","text": "town" },
        {"end": "20.690","start": "20.415","text": "you" },
        {"end": "20.965","start": "20.690","text": "probably" },
        {"end": "21.240","start": "20.965","text": "have" },
        {"end": "21.545","start": "21.240","text": "a" },
        {"end": "21.790","start": "21.545","text": "coaxial" },
        {"end": "22.065","start": "21.790","text": "cable" },
        {"end": "22.370","start": "22.065","text": "for" },
        {"end": "22.645","start": "22.370","text": "cable" },
        {"end": "22.920","start": "22.645","text": "Internet," },
        {"end": "23.195","start": "22.920","text": "or" },
        {"end": "23.470","start": "23.195","text": "a" },
        {"end": "23.745","start": "23.470","text": "phone" },
        {"end": "24.020","start": "23.745","text": "line" },
        {"end": "24.295","start": "24.020","text": "if" },
        {"end": "24.570","start": "24.295","text": "you" },
        {"end": "24.845","start": "24.570","text": "have" },
        {"end": "25.120","start": "24.845","text": "DSL" },
        {"end": "25.395","start": "25.120","text": "running" },
        {"end": "25.670","start": "25.395","text": "to" },
        {"end": "25.945","start": "25.670","text": "the" },
        {"end": "26.220","start": "25.945","text": "outside" },
        {"end": "26.880","start": "26.220","text": "of" },
        {"end": "27.155","start": "26.880","text": "your" },
        {"end": "27.430","start": "27.155","text": "house," },
        {"end": "27.705","start": "27.430","text": "that" },
        {"end": "28.980","start": "27.705","text": "connects" },
        {"end": "28.255","start": "27.980","text": "you" },
        {"end": "28.530","start": "28.255","text": "to" },
        {"end": "28.805","start": "28.530","text": "the" },
        {"end": "29.080","start": "28.805","text": "Internet" },
        {"end": "29.355","start": "29.080","text": "Service" },
        {"end": "29.630","start": "29.355","text": "Provider," },
        {"end": "29.905","start": "29.630","text": "or" },
        {"end": "30.920","start": "29.905","text": "ISP." },
        {"end": "32.300","start": "32.100","text": "If" },
        {"end": "32.500","start": "32.300","text": "you" },
        {"end": "32.700","start": "32.500","text": "live" },
        {"end": "32.900","start": "32.700","text": "far" },
        {"end": "33.100","start": "32.900","text": "out" },
        {"end": "33.300","start": "33.100","text": "in" },
        {"end": "33.500","start": "33.300","text": "the" },
        {"end": "33.700","start": "33.500","text": "country," },
        {"end": "33.900","start": "33.700","text": "you'll" },
        {"end": "34.100","start": "33.900","text": "more" },
        {"end": "34.300","start": "34.100","text": "likely" },
        {"end": "34.730","start": "34.300","text": "have" },
        {"end": "34.930","start": "34.730","text": "a" },
        {"end": "35.330","start": "35.130","text": "dish" },
        {"end": "35.530","start": "35.330","text": "outside" },
        {"end": "35.730","start": "35.530","text": "your" },
        {"end": "35.930","start": "35.730","text": "house," },
        {"end": "36.130","start": "35.930","text": "connecting" },
        {"end": "36.330","start": "36.130","text": "you" },
        {"end": "36.530","start": "36.330","text": "wirelessly" },
        {"end": "36.730","start": "36.530","text": "to" },
        {"end": "36.930","start": "36.730","text": "your" },
        {"end": "37.330","start": "37.130","text": "closest" },
        {"end": "37.530","start": "37.330","text": "ISP," },
        {"end": "39.430","start": "37.530","text": "or" },
        {"end": "39.630","start": "39.430","text": "you" },
        {"end": "39.830","start": "39.630","text": "might" },
        {"end": "40.030","start": "39.830","text": "also" },
        {"end": "40.230","start": "40.030","text": "use" },
        {"end": "40.430","start": "40.230","text": "the" },
        {"end": "40.630","start": "40.430","text": "telephone" },
        {"end": "42.350","start": "40.630","text": "system" },
        {"end": "42.550","start": "42.350","text": "Whether" },
        {"end": "42.750","start": "42.550","text": "a" },
        {"end": "42.950","start": "42.750","text": "wire" },
        {"end": "43.150","start": "42.950","text": "comes" },
        {"end": "43.350","start": "43.150","text": "straight" },
        {"end": "43.550","start": "43.350","text": "from" },
        {"end": "43.750","start": "43.550","text": "the" },
        {"end": "43.950","start": "43.750","text": "ISP" },
        {"end": "44.150","start": "43.950","text": "hookup" },
        {"end": "44.350","start": "44.150","text": "outside" },
        {"end": "43.550","start": "44.350","text": "your" },
        {"end": "43.750","start": "43.550","text": "house," },
        {"end": "46.300","start": "43.750","text": "or" },
        {"end": "43.990","start": "46.300","text": "it" },
        {"end": "44.190","start": "43.990","text": "travels" },
        {"end": "44.390","start": "44.190","tcxt": "over"},
        {"end": "44.590","start": "44.390","text": "radio" },
        {"end": "44.790","start": "44.590","text": "waves" },
        {"end": "44.990","start": "44.790","text": "from" },
        {"end": "45.190","start": "44.990","text": "your" },
        {"end": "49.270","start": "45.190","text": "roof" },
        {"end": "49.470","start": "49.270","text": "the" },
        {"end": "49.670","start": "49.470","text": "first" },
        {"end": "49.870","start": "49.670","text": "stop" },
        {"end": "50.070","start": "49.870","text": "a" },
        {"end": "50.270","start": "50.070","text": "wire" },
        {"end": "50.470","start": "50.270","text": "will" },
        {"end": "50.670","start": "50.470","text": "make" },
        {"end": "50.870","start": "50.670","text": "once" },
        {"end": "51.070","start": "50.870","text": "inside" },
        {"end": "51.270","start": "51.070","text": "your" },
        {"end": "51.470","start": "51.270","text": "house" },
        {"end": "51.670","start": "51.470","text": "is" },
        {"end": "51.870","start": "51.670","text": "at" },
        {"end": "52.070","start": "51.870","text": "your" },
        {"end": "53.760","start": "52.070","text": "modem" },
        {"end": "53.960","start": "53.760","text": "A" },
        {"end": "54.160","start": "53.960","text": "modem" },
        {"end": "54.360","start": "54.160","text": "is" },
        {"end": "54.560","start": "54.360","text": "what" },
        {"end": "54.760","start": "54.560","text": "connects" },
        {"end": "54.960","start": "54.760","text": "the" },
        {"end": "55.160","start": "54.960","text": "internet" },
        {"end": "55.360","start": "55.160","text": "to" },
        {"end": "55.560","start": "55.360","text": "your" },
        {"end": "55.760","start": "55.560","text": "network" },
        {"end": "55.960","start": "55.760","text": "at" },
        {"end": "57.780","start": "55.960","text": "home" },
        {"end": "57.980","start": "57.780","text": "A" },
        {"end": "58.380","start": "58.180","text": "few" },
        {"end": "58.580","start": "58.380","text": "common" },
        {"end": "58.780","start": "58.580","text": "residential" },
        {"end": "58.980","start": "58.780","text": "modems" },
        {"end": "60.000","start": "58.980","text": "are" }

    ];
    createSubtitle();

    function createSubtitle()
    {
        var element;
        for (var i = 0; i < syncData.length; i++) {
            element = document.createElement('span');
            element.setAttribute("id", "c_" + i);
            element.innerText = syncData[i].text + " ";
            subtitles.appendChild(element);
        }
    }

    video.addEventListener("timeupdate", function(e){
        syncData.forEach(function(element, index, array){
            if( video.currentTime >= element.start && video.currentTime <= element.end )
                subtitles.children[index].style.color = 'orange';
        });
    });
}(window, document));
